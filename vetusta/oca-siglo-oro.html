<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Oca del Parnaso - Siglo de Oro</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2c1810 0%, #8B4513 50%, #D2691E 100%);
            min-height: 100vh;
            color: #2c1810;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .card {
            background: linear-gradient(135deg, #FFF8DC 0%, #F5E6D3 100%);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            border: 3px solid #8B4513;
            overflow: hidden;
        }
        
        .board {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 4px;
            padding: 20px;
            background: linear-gradient(45deg, #DEB887 0%, #F4A460 100%);
        }
        
        @media (max-width: 768px) {
            .board {
                padding: 10px;
                gap: 2px;
            }
            .cell {
                font-size: 0.6rem;
            }
            .cell-icon {
                font-size: 1rem;
            }
        }
        
        .cell {
            aspect-ratio: 1;
            border: 2px solid #8B4513;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.7rem;
            font-weight: bold;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .cell:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .cell-normal { background: linear-gradient(135deg, #FFF8DC 0%, #F5E6D3 100%); }
        .cell-oca { background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); }
        .cell-puente { background: linear-gradient(135deg, #87CEEB 0%, #4682B4 100%); }
        .cell-posada { background: linear-gradient(135deg, #98FB98 0%, #32CD32 100%); }
        .cell-carcel { background: linear-gradient(135deg, #696969 0%, #2F4F4F 100%); color: white; }
        .cell-muerte { background: linear-gradient(135deg, #DC143C 0%, #8B0000 100%); color: white; }
        .cell-parnaso { background: linear-gradient(135deg, #9370DB 0%, #4B0082 100%); color: gold; }
        .cell-laberinto { background: linear-gradient(135deg, #DDA0DD 0%, #8B008B 100%); color: white; }
        
        .cell-icon {
            font-size: 1.2rem;
            margin-bottom: 2px;
        }
        
        .cell-number {
            font-size: 0.6rem;
            color: #8B4513;
            font-weight: bold;
        }
        
        .players-in-cell {
            position: absolute;
            bottom: 2px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1px;
        }
        
        .player-token {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
        
        .game-panel {
            background: linear-gradient(135deg, #FFF8DC 0%, #F5E6D3 100%);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border: 2px solid #8B4513;
            margin-bottom: 20px;
        }
        
        .dice {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #FFF 0%, #F0F0F0 100%);
            border: 3px solid #8B4513;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #8B4513;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px auto;
        }
        
        .dice:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .btn {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: Georgia, serif;
        }
        
        .btn:hover {
            background: linear-gradient(135deg, #A0522D 0%, #CD853F 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .player-info {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(255,255,255,0.8);
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid;
        }
        
        .current-player {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(255,215,0,0.4);
        }
        
        .message-log {
            height: min(30vh, 300px);
            max-height: 400px;
            min-height: 200px;
            overflow-y: auto;
            background: rgba(255,255,255,0.9);
            border-radius: 8px;
            padding: 15px;
            font-size: 0.9rem;
            border: 2px solid #8B4513;
        }
        
        .message {
            margin-bottom: 8px;
            padding: 5px 10px;
            border-radius: 5px;
            background: rgba(139,69,19,0.1);
        }
        
        .winner-celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .winner-content {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            border: 4px solid #8B4513;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script>
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;
        
        // Quiz del Siglo de Oro para estudiantes de ELE universitarios
        const quizQuestions = [
            {
                question: "Â¿En quÃ© siglos se desarrollÃ³ el Siglo de Oro espaÃ±ol?",
                options: ["XV-XVI", "XVI-XVII", "XVII-XVIII", "XIV-XV"],
                correct: 1,
                explanation: "El Siglo de Oro abarca los siglos XVI y XVII, desde el reinado de los Reyes CatÃ³licos hasta la muerte de CalderÃ³n (1681)."
            },
            {
                question: "Â¿CuÃ¡l es la obra mÃ¡s famosa de Miguel de Cervantes?",
                options: ["La Galatea", "Don Quijote de la Mancha", "Los trabajos de Persiles", "Novelas ejemplares"],
                correct: 1,
                explanation: "Don Quijote de la Mancha (1605-1615) es considerada la primera novela moderna y obra cumbre de la literatura espaÃ±ola."
            },
            {
                question: "Â¿QuÃ© movimiento poÃ©tico cultivÃ³ Luis de GÃ³ngora?",
                options: ["Conceptismo", "Culteranismo", "Realismo", "Naturalismo"],
                correct: 1,
                explanation: "GÃ³ngora fue el mÃ¡ximo representante del culteranismo, caracterizado por la complejidad sintÃ¡ctica y las referencias mitolÃ³gicas."
            },
            {
                question: "Â¿CuÃ¡l de estas obras pertenece a Lope de Vega?",
                options: ["La vida es sueÃ±o", "Fuenteovejuna", "El BuscÃ³n", "Soledades"],
                correct: 1,
                explanation: "Fuenteovejuna es una de las obras mÃ¡s famosas de Lope de Vega, representante del teatro del Siglo de Oro."
            },
            {
                question: "Â¿CÃ³mo se llamaba la preceptiva teatral que rompiÃ³ Lope de Vega?",
                options: ["Las tres unidades", "La regla Ã¡urea", "El decoro poÃ©tico", "La verosimilitud"],
                correct: 0,
                explanation: "Lope rompiÃ³ con las tres unidades clÃ¡sicas (acciÃ³n, tiempo y lugar) en su 'Arte nuevo de hacer comedias'."
            },
            {
                question: "Â¿QuÃ© autor escribiÃ³ 'La vida es sueÃ±o'?",
                options: ["Lope de Vega", "Tirso de Molina", "CalderÃ³n de la Barca", "Francisco de Quevedo"],
                correct: 2,
                explanation: "Pedro CalderÃ³n de la Barca escribiÃ³ este drama filosÃ³fico, una de las obras cumbre del teatro barroco."
            },
            {
                question: "Â¿CuÃ¡l es el tema principal del Conceptismo?",
                options: ["La belleza formal", "El juego de conceptos e ideas", "La mitologÃ­a clÃ¡sica", "La naturaleza"],
                correct: 1,
                explanation: "El Conceptismo, representado por Quevedo, se basa en el juego ingenioso de conceptos e ideas."
            },
            {
                question: "Â¿QuiÃ©n escribiÃ³ 'El BuscÃ³n'?",
                options: ["Mateo AlemÃ¡n", "Francisco de Quevedo", "Vicente Espinel", "Luis de GÃ³ngora"],
                correct: 1,
                explanation: "Quevedo escribiÃ³ 'Historia de la vida del BuscÃ³n llamado don Pablos', novela picaresca satÃ­rica."
            },
            {
                question: "Â¿CÃ³mo se llama el personaje creado por Tirso de Molina?",
                options: ["Don Juan Tenorio", "Don Quijote", "Segismundo", "Pablos"],
                correct: 0,
                explanation: "Tirso de Molina creÃ³ el mito de Don Juan Tenorio en 'El burlador de Sevilla'."
            },
            {
                question: "Â¿CuÃ¡l era el pseudÃ³nimo de Lope de Vega?",
                options: ["El Divino", "FÃ©nix de los ingenios", "El PrÃ­ncipe de los poetas", "El Cisne de Mantua"],
                correct: 1,
                explanation: "Lope de Vega era conocido como el 'FÃ©nix de los ingenios' por su extraordinaria capacidad creativa."
            },
            {
                question: "Â¿En quÃ© consiste la tÃ©cnica del 'carpe diem'?",
                options: ["Vivir el momento presente", "Recordar la muerte", "Alabar la belleza", "Criticar la sociedad"],
                correct: 0,
                explanation: "El 'carpe diem' ('aprovecha el dÃ­a') es un tÃ³pico que invita a disfrutar del momento presente."
            },
            {
                question: "Â¿QuÃ© gÃ©nero literario NO cultivÃ³ Quevedo?",
                options: ["PoesÃ­a", "Prosa satÃ­rica", "Teatro", "Ensayo"],
                correct: 2,
                explanation: "Aunque Quevedo fue un genio de la poesÃ­a y la prosa, no destacÃ³ como dramaturgo teatral."
            },
            {
                question: "Â¿CuÃ¡l es el tema del 'Tempus fugit'?",
                options: ["El amor cortÃ©s", "El paso del tiempo", "La crÃ­tica social", "La muerte"],
                correct: 1,
                explanation: "El 'tempus fugit' ('el tiempo huye') es un tÃ³pico sobre la fugacidad temporal y la brevedad de la vida."
            },
            {
                question: "Â¿QuÃ© autor escribiÃ³ 'Soledades'?",
                options: ["Luis de GÃ³ngora", "Francisco de Quevedo", "San Juan de la Cruz", "Garcilaso de la Vega"],
                correct: 0,
                explanation: "Las 'Soledades' son poemas mayores de GÃ³ngora, ejemplo mÃ¡ximo del culteranismo."
            },
            {
                question: "Â¿CuÃ¡ntos actos tenÃ­an las comedias de Lope?",
                options: ["Dos", "Tres", "Cuatro", "Cinco"],
                correct: 1,
                explanation: "Lope estableciÃ³ la comedia nueva de tres actos, rompiendo con la tradiciÃ³n clÃ¡sica de cinco."
            },
            {
                question: "Â¿QuÃ© es un 'gracioso' en el teatro del Siglo de Oro?",
                options: ["Un tipo de verso", "Un personaje cÃ³mico", "Una tÃ©cnica narrativa", "Un tema poÃ©tico"],
                correct: 1,
                explanation: "El gracioso es el personaje cÃ³mico que alivia la tensiÃ³n dramÃ¡tica y representa al pueblo."
            },
            {
                question: "Â¿CuÃ¡l fue la obra mÃ¡s extensa de Lope de Vega?",
                options: ["La Dorotea", "La Arcadia", "El peregrino", "JerusalÃ©n conquistada"],
                correct: 0,
                explanation: "'La Dorotea' es una extensa obra en prosa dialogada, considerada su obra mÃ¡s personal."
            },
            {
                question: "Â¿QuÃ© movimiento religioso influyÃ³ en la literatura del Siglo de Oro?",
                options: ["La Reforma", "La Contrarreforma", "El Erasmismo", "El Luteranismo"],
                correct: 1,
                explanation: "La Contrarreforma catÃ³lica marcÃ³ profundamente la literatura espaÃ±ola del perÃ­odo barroco."
            },
            {
                question: "Â¿CuÃ¡l es el nombre completo de CalderÃ³n?",
                options: ["Pedro CalderÃ³n de la Barca", "Diego CalderÃ³n de la Vega", "Antonio CalderÃ³n del Rey", "Felipe CalderÃ³n de LeÃ³n"],
                correct: 0,
                explanation: "Pedro CalderÃ³n de la Barca y Henao fue el gran dramaturgo del Barroco espaÃ±ol."
            },
            {
                question: "Â¿QuÃ© tÃ©cnica usa GÃ³ngora en 'La fÃ¡bula de Polifemo'?",
                options: ["Octavas reales", "Sonetos", "Silva", "Romance"],
                correct: 0,
                explanation: "GÃ³ngora utiliza la octava real, estrofa de ocho versos endecasÃ­labos, en sus poemas mayores."
            },
            {
                question: "Â¿En quÃ© ciudad naciÃ³ Cervantes?",
                options: ["Toledo", "Madrid", "AlcalÃ¡ de Henares", "Sevilla"],
                correct: 2,
                explanation: "Miguel de Cervantes naciÃ³ en AlcalÃ¡ de Henares en 1547."
            },
            {
                question: "Â¿CuÃ¡l es el tema del soneto 'En tanto que de rosa y azucena'?",
                options: ["El amor no correspondido", "El carpe diem", "La crÃ­tica social", "La muerte"],
                correct: 1,
                explanation: "Este famoso soneto de Garcilaso desarrolla el tema del carpe diem dirigido a una dama joven."
            },
            {
                question: "Â¿QuÃ© significa 'desengaÃ±o' en el Barroco?",
                options: ["EngaÃ±o amoroso", "DesilusiÃ³n de la realidad", "TÃ©cnica poÃ©tica", "GÃ©nero teatral"],
                correct: 1,
                explanation: "El desengaÃ±o barroco es la desilusiÃ³n ante las apariencias mundanas y la vanidad de lo terrenal."
            },
            {
                question: "Â¿CuÃ¡l es la primera parte de Don Quijote?",
                options: ["1605", "1615", "1600", "1610"],
                correct: 0,
                explanation: "La primera parte de Don Quijote se publicÃ³ en 1605, la segunda en 1615."
            },
            {
                question: "Â¿QuÃ© autor escribiÃ³ autos sacramentales?",
                options: ["Lope de Vega", "Tirso de Molina", "CalderÃ³n de la Barca", "Mira de Amescua"],
                correct: 2,
                explanation: "CalderÃ³n perfeccionÃ³ el auto sacramental, drama alegÃ³rico de tema religioso."
            },
            {
                question: "Â¿CuÃ¡l es el tema del 'Beatus ille'?",
                options: ["La vida cortesana", "La vida retirada del campo", "El amor pasional", "La guerra"],
                correct: 1,
                explanation: "El 'Beatus ille' alaba la vida retirada y sencilla del campo frente a la corte."
            },
            {
                question: "Â¿QuiÃ©n tradujo las 'Soledades' de GÃ³ngora al inglÃ©s?",
                options: ["Esta pregunta es incorrecta", "John Donne", "Edmund Spenser", "Christopher Marlowe"],
                correct: 0,
                explanation: "Las 'Soledades' son poemas originales de GÃ³ngora, no traducciones."
            },
            {
                question: "Â¿CuÃ¡l era el teatro popular en el Siglo de Oro?",
                options: ["Auto sacramental", "Comedia", "EntremÃ©s", "Loa"],
                correct: 1,
                explanation: "La comedia nueva de Lope fue el gÃ©nero teatral mÃ¡s popular y representativo."
            },
            {
                question: "Â¿QuÃ© tÃ©cnica caracteriza al hipÃ©rbaton gongorino?",
                options: ["Orden natural", "AlteraciÃ³n del orden sintÃ¡ctico", "RepeticiÃ³n", "Paradoja"],
                correct: 1,
                explanation: "El hipÃ©rbaton altera el orden lÃ³gico de las palabras, recurso tÃ­pico de GÃ³ngora."
            },
            {
                question: "Â¿CuÃ¡l es la obra pÃ³stuma de Quevedo?",
                options: ["Los SueÃ±os", "El BuscÃ³n", "La Hora de todos", "PolÃ­tica de Dios"],
                correct: 2,
                explanation: "'La Hora de todos' se publicÃ³ pÃ³stumamente y muestra la prosa satÃ­rica de Quevedo."
            },
            {
                question: "Â¿QuÃ© significa 'vanitas vanitatum'?",
                options: ["Amor eterno", "Vanidad de vanidades", "Belleza perfecta", "SabidurÃ­a divina"],
                correct: 1,
                explanation: "'Vanitas vanitatum' expresa la vanidad de las cosas terrenales, tema barroco fundamental."
            },
            {
                question: "Â¿En quÃ© batalla perdiÃ³ Cervantes el uso de la mano izquierda?",
                options: ["San QuintÃ­n", "Lepanto", "Ostende", "Flandes"],
                correct: 1,
                explanation: "En la batalla de Lepanto (1571), Cervantes fue herido y perdiÃ³ el uso de la mano izquierda."
            },
            {
                question: "Â¿CuÃ¡l es la mÃ©trica del romance?",
                options: ["OctosÃ­labos asonantes en pares", "EndecasÃ­labos consonantes", "Alejandrinos", "HeptasÃ­labos"],
                correct: 0,
                explanation: "El romance se compone de versos octosÃ­labos con rima asonante en los pares."
            },
            {
                question: "Â¿QuÃ© personaje representa la locura cuerda?",
                options: ["Sancho Panza", "Don Quijote", "Dulcinea", "El Cura"],
                correct: 1,
                explanation: "Don Quijote encarna la 'locura cuerda', con ideales nobles en un mundo prosaico."
            },
            {
                question: "Â¿CuÃ¡l era el pÃºblico del teatro del Siglo de Oro?",
                options: ["Solo nobles", "Solo plebeyos", "Todas las clases sociales", "Solo clÃ©rigos"],
                correct: 2,
                explanation: "Los corrales de comedias acogÃ­an a todas las clases, desde nobles hasta artesanos."
            },
            {
                question: "Â¿QuiÃ©n escribiÃ³ 'Los trabajos de Persiles y Sigismunda'?",
                options: ["Miguel de Cervantes", "Lope de Vega", "Mateo AlemÃ¡n", "Francisco de Quevedo"],
                correct: 0,
                explanation: "Esta novela bizantina fue la Ãºltima obra de Cervantes, publicada pÃ³stumamente en 1617."
            },
            {
                question: "Â¿CuÃ¡l es el tema central de 'El gran teatro del mundo'?",
                options: ["El amor cortÃ©s", "La vida como representaciÃ³n teatral", "La crÃ­tica social", "La naturaleza"],
                correct: 1,
                explanation: "CalderÃ³n presenta la vida humana como una gran representaciÃ³n teatral dirigida por Dios."
            },
            {
                question: "Â¿QuÃ© significa 'memento mori' en la literatura barroca?",
                options: ["Recuerda vivir", "Recuerda morir", "Ama y vive", "Tiempo perdido"],
                correct: 1,
                explanation: "El 'memento mori' ('recuerda que morirÃ¡s') es un tÃ³pico barroco sobre la meditaciÃ³n de la muerte."
            },
            {
                question: "Â¿CuÃ¡l fue el primer libro de caballerÃ­as espaÃ±ol?",
                options: ["AmadÃ­s de Gaula", "Tirant lo Blanch", "PalmerÃ­n de Oliva", "Las sergas de EsplandiÃ¡n"],
                correct: 0,
                explanation: "AmadÃ­s de Gaula, refundido por Garci RodrÃ­guez de Montalvo, fue el modelo del gÃ©nero caballeresco."
            },
            {
                question: "Â¿QuÃ© autor creÃ³ el personaje de la Celestina?",
                options: ["Fernando de Rojas", "Juan Ruiz", "Alfonso X", "Jorge Manrique"],
                correct: 0,
                explanation: "Fernando de Rojas escribiÃ³ 'La Celestina' o 'Tragicomedia de Calisto y Melibea'."
            },
            {
                question: "Â¿En quÃ© consiste la tÃ©cnica del 'in medias res'?",
                options: ["Empezar por el final", "Empezar en medio de la acciÃ³n", "Narrar cronolÃ³gicamente", "Usar flashbacks"],
                correct: 1,
                explanation: "El 'in medias res' significa comenzar la narraciÃ³n en el punto medio de los acontecimientos."
            },
            {
                question: "Â¿CuÃ¡l es la obra mÃ¡s importante de San Juan de la Cruz?",
                options: ["Noche oscura del alma", "Subida del Monte Carmelo", "CÃ¡ntico espiritual", "Llama de amor viva"],
                correct: 2,
                explanation: "El 'CÃ¡ntico espiritual' es considerado la cumbre de la poesÃ­a mÃ­stica de San Juan de la Cruz."
            },
            {
                question: "Â¿QuÃ© tÃ©cnica poÃ©tica usa Garcilaso en sus Ã©glogas?",
                options: ["Octavas reales", "Tercetos", "Silva", "Liras"],
                correct: 3,
                explanation: "Garcilaso popularizÃ³ la lira, estrofa de cinco versos (7a-11B-7a-7b-11B) en sus Ã©glogas."
            },
            {
                question: "Â¿CuÃ¡l es el tema del soneto 'Mientras por competir con tu cabello'?",
                options: ["El tiempo destructor", "La belleza femenina", "El amor eterno", "La muerte"],
                correct: 0,
                explanation: "Este soneto de GÃ³ngora desarrolla el tema del tiempo que destruye la belleza juvenil."
            },
            {
                question: "Â¿QuÃ© es un 'entremÃ©s' en el teatro del Siglo de Oro?",
                options: ["Un acto principal", "Una pieza cÃ³mica breve", "Un prÃ³logo", "Una danza"],
                correct: 1,
                explanation: "El entremÃ©s es una pieza teatral cÃ³mica y breve que se representaba entre los actos de la comedia."
            },
            {
                question: "Â¿QuiÃ©n escribiÃ³ 'GuzmÃ¡n de Alfarache'?",
                options: ["Francisco de Quevedo", "Mateo AlemÃ¡n", "Vicente Espinel", "Luis VÃ©lez de Guevara"],
                correct: 1,
                explanation: "Mateo AlemÃ¡n escribiÃ³ esta novela picaresca, considerada la segunda despuÃ©s del Lazarillo."
            },
            {
                question: "Â¿CuÃ¡l es la diferencia entre culteranismo y conceptismo?",
                options: ["Forma vs. contenido", "Prosa vs. verso", "Religioso vs. profano", "ClÃ¡sico vs. popular"],
                correct: 0,
                explanation: "El culteranismo se centra en la forma y el lenguaje, el conceptismo en el contenido y las ideas."
            },
            {
                question: "Â¿En quÃ© ciudad se desarrolla principalmente 'La Celestina'?",
                options: ["Salamanca", "Toledo", "Sevilla", "No se especifica"],
                correct: 0,
                explanation: "Aunque no se menciona explÃ­citamente, los indicios apuntan a Salamanca como escenario."
            },
            {
                question: "Â¿CuÃ¡l es el nombre completo de Don Juan Tenorio?",
                options: ["Juan Tenorio de Ulloa", "Don Juan Tenorio", "Juan de Tenorio", "Juan Tenorio y MaÃ±ara"],
                correct: 1,
                explanation: "En la obra de Tirso, el personaje se llama simplemente Don Juan Tenorio."
            },
            {
                question: "Â¿QuÃ© significa 'collige, virgo, rosas'?",
                options: ["Coge, doncella, las rosas", "Vive, muchacha, la vida", "Ama, joven, con pasiÃ³n", "Goza, niÃ±a, el momento"],
                correct: 0,
                explanation: "Esta frase latina significa 'coge, doncella, las rosas' y expresa el tema del carpe diem."
            },
            {
                question: "Â¿CuÃ¡ntos sonetos escribiÃ³ aproximadamente Quevedo?",
                options: ["300", "500", "800", "1000"],
                correct: 2,
                explanation: "Quevedo escribiÃ³ aproximadamente 800 sonetos, siendo uno de los sonetistas mÃ¡s prolÃ­ficos."
            },
            {
                question: "Â¿QuÃ© autor escribiÃ³ 'El caballero de Olmedo'?",
                options: ["Lope de Vega", "Tirso de Molina", "CalderÃ³n de la Barca", "Rojas Zorrilla"],
                correct: 0,
                explanation: "Lope de Vega escribiÃ³ este drama basado en una cancioncilla popular castellana."
            },
            {
                question: "Â¿CuÃ¡l es el tema principal de 'La vida es sueÃ±o'?",
                options: ["El destino", "El libre albedrÃ­o", "El poder", "El amor"],
                correct: 1,
                explanation: "CalderÃ³n desarrolla el tema del libre albedrÃ­o frente al determinismo del destino."
            },
            {
                question: "Â¿QuÃ© tÃ©cnica caracteriza los sonetos amorosos de Quevedo?",
                options: ["IdealizaciÃ³n platÃ³nica", "PasiÃ³n desgarrada", "CortesÃ­a medieval", "Sensualidad renacentista"],
                correct: 1,
                explanation: "Los sonetos amorosos de Quevedo se caracterizan por una pasiÃ³n intensa y desgarrada."
            },
            {
                question: "Â¿En quÃ© batalla naval participÃ³ Cervantes?",
                options: ["Trafalgar", "Lepanto", "Cabo de San Vicente", "La Armada Invencible"],
                correct: 1,
                explanation: "Cervantes luchÃ³ en la batalla de Lepanto (1571) donde fue herido en la mano izquierda."
            },
            {
                question: "Â¿CuÃ¡l es el subtÃ­tulo de 'Don Quijote'?",
                options: ["El Ingenioso Hidalgo", "El Caballero de la Mancha", "Historia del famoso hidalgo", "El Ingenioso Hidalgo Don Quijote de la Mancha"],
                correct: 3,
                explanation: "El tÃ­tulo completo es 'El ingenioso hidalgo don Quijote de la Mancha'."
            },
            {
                question: "Â¿QuÃ© es la 'disputatio' en el teatro calderoniano?",
                options: ["Un debate teolÃ³gico", "Una tÃ©cnica dramÃ¡tica", "Un monÃ³logo", "Una forma mÃ©trica"],
                correct: 1,
                explanation: "La disputatio es una tÃ©cnica dramÃ¡tica donde los personajes debaten ideas filosÃ³ficas."
            },
            {
                question: "Â¿QuiÃ©n fue conocido como 'El Divino'?",
                options: ["Luis de GÃ³ngora", "Francisco de Quevedo", "Lope de Vega", "Garcilaso de la Vega"],
                correct: 0,
                explanation: "Luis de GÃ³ngora era conocido como 'El Divino' por su extraordinaria maestrÃ­a poÃ©tica."
            },
            {
                question: "Â¿CuÃ¡l es la primera novela picaresca espaÃ±ola?",
                options: ["El BuscÃ³n", "GuzmÃ¡n de Alfarache", "La vida de Lazarillo de Tormes", "La pÃ­cara Justina"],
                correct: 2,
                explanation: "'La vida de Lazarillo de Tormes' (1554) inaugura el gÃ©nero picaresco en EspaÃ±a."
            },
            {
                question: "Â¿QuÃ© significa 'ut pictura poesis'?",
                options: ["Como la pintura, la poesÃ­a", "El arte imita la vida", "La belleza es verdad", "Todo arte es imitaciÃ³n"],
                correct: 0,
                explanation: "Esta frase de Horacio significa que la poesÃ­a debe parecerse a la pintura en su capacidad descriptiva."
            },
            {
                question: "Â¿CuÃ¡l es el conflicto central en 'Fuenteovejuna'?",
                options: ["Amor vs. honor", "Pueblo vs. tiranÃ­a", "Nobleza vs. burguesÃ­a", "TradiciÃ³n vs. modernidad"],
                correct: 1,
                explanation: "El pueblo de Fuenteovejuna se rebela contra la tiranÃ­a del Comendador Mayor."
            },
            {
                question: "Â¿QuÃ© autor popularizÃ³ el teatro religioso en EspaÃ±a?",
                options: ["Lope de Vega", "Tirso de Molina", "CalderÃ³n de la Barca", "Mira de Amescua"],
                correct: 2,
                explanation: "CalderÃ³n de la Barca llevÃ³ el teatro religioso y los autos sacramentales a su mÃ¡xima expresiÃ³n."
            },
            {
                question: "Â¿En quÃ© consiste la tÃ©cnica del 'correlato objetivo'?",
                options: ["Describir objetivamente", "Expresar emociones mediante objetos", "Narrar en tercera persona", "Usar un lenguaje neutro"],
                correct: 1,
                explanation: "El correlato objetivo expresa estados emocionales a travÃ©s de objetos y situaciones externas."
            },
            {
                question: "Â¿CuÃ¡l es el tema del poema 'A una nariz' de Quevedo?",
                options: ["La belleza fÃ­sica", "La sÃ¡tira personal", "La fugacidad del tiempo", "El amor platÃ³nico"],
                correct: 1,
                explanation: "Este poema es una sÃ¡tira burlesca dirigida contra GÃ³ngora y su prominente nariz."
            },
            {
                question: "Â¿QuÃ© tÃ©cnica narrativa usa Cervantes en las Novelas Ejemplares?",
                options: ["Narrador omnisciente", "MÃºltiples perspectivas", "MonÃ³logo interior", "Epistolar"],
                correct: 1,
                explanation: "Cervantes emplea mÃºltiples perspectivas narrativas para enriquecer la complejidad de sus relatos."
            },
            {
                question: "Â¿CuÃ¡l es el conflicto principal en 'El alcalde de Zalamea'?",
                options: ["Honor villano vs. honor noble", "Amor vs. deber", "Justicia vs. venganza", "TradiciÃ³n vs. progreso"],
                correct: 0,
                explanation: "CalderÃ³n explora el conflicto entre el honor del villano rico y el del noble empobrecido."
            },
            {
                question: "Â¿QuÃ© significa 'ars moriendi' en la literatura del Siglo de Oro?",
                options: ["Arte de amar", "Arte de morir", "Arte de vivir", "Arte de escribir"],
                correct: 1,
                explanation: "El 'ars moriendi' es el arte de bien morir, tema fundamental en la literatura religiosa barroca."
            },
            {
                question: "Â¿QuiÃ©n escribiÃ³ 'El conde Lucanor'?",
                options: ["Don Juan Manuel", "Alfonso X el Sabio", "Juan Ruiz", "Jorge Manrique"],
                correct: 0,
                explanation: "Don Juan Manuel escribiÃ³ 'El conde Lucanor', obra didÃ¡ctica del siglo XIV."
            },
            {
                question: "Â¿CuÃ¡l es la mÃ©trica tradicional del villancico?",
                options: ["OctosÃ­labos", "HexasÃ­labos", "Arte menor variado", "EndecasÃ­labos"],
                correct: 2,
                explanation: "El villancico emplea arte menor con mÃ©trica variada, tÃ­picamente hexasÃ­labos y octosÃ­labos."
            }
        ];
        
        function getRandomQuiz(usedQuestions = []) {
            const availableQuestions = quizQuestions.filter((_, index) => !usedQuestions.includes(index));
            
            // Si no hay preguntas disponibles, reiniciar el pool
            if (availableQuestions.length === 0) {
                return {
                    question: quizQuestions[0],
                    index: 0,
                    resetUsed: true
                };
            }
            
            const randomAvailableIndex = Math.floor(Math.random() * availableQuestions.length);
            const selectedQuestion = availableQuestions[randomAvailableIndex];
            const originalIndex = quizQuestions.indexOf(selectedQuestion);
            
            return {
                question: selectedQuestion,
                index: originalIndex,
                resetUsed: false
            };
        }
        
        // Escritores del Siglo de Oro como jugadores
        const players = [
            { id: 0, name: "Luis de GÃ³ngora", color: "#663399", position: 0 },
            { id: 1, name: "Francisco de Quevedo", color: "#8b0000", position: 0 },
            { id: 2, name: "Lope de Vega", color: "#556b2f", position: 0 },
            { id: 3, name: "CalderÃ³n de la Barca", color: "#d4a574", position: 0 }
        ];
        
        // DefiniciÃ³n del tablero (63 casillas + El Parnaso como meta)
        const boardCells = [
            { id: 0, type: 'inicio', icon: 'ðŸ ', name: 'Inicio', description: 'El viaje hacia el Parnaso comienza' },
            { id: 1, type: 'normal', icon: 'ðŸ“œ', name: 'Primera Obra' },
            { id: 2, type: 'normal', icon: 'âœï¸', name: 'Ejercicio PoÃ©tico' },
            { id: 3, type: 'normal', icon: 'ðŸ“š', name: 'Biblioteca' },
            { id: 4, type: 'normal', icon: 'ðŸŽ­', name: 'Teatro' },
            { id: 5, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 6, type: 'puente', icon: 'ðŸŒ‰', name: 'Puente de los Versos' },
            { id: 7, type: 'normal', icon: 'ðŸ›ï¸', name: 'Academia' },
            { id: 8, type: 'normal', icon: 'ðŸ‘‘', name: 'Corte Real' },
            { id: 9, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 10, type: 'normal', icon: 'â›ª', name: 'Templo de Apolo' },
            { id: 11, type: 'normal', icon: 'ðŸ—£ï¸', name: 'DeclamaciÃ³n' },
            { id: 12, type: 'puente', icon: 'ðŸŒ‰', name: 'Puente del Ingenio' },
            { id: 13, type: 'normal', icon: 'ðŸŽ¨', name: 'Arte PoÃ©tico' },
            { id: 14, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 15, type: 'normal', icon: 'ðŸ“–', name: 'Manuscrito' },
            { id: 16, type: 'normal', icon: 'ðŸ†', name: 'Certamen' },
            { id: 17, type: 'normal', icon: 'ðŸŒŸ', name: 'InspiraciÃ³n' },
            { id: 18, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 19, type: 'posada', icon: 'ðŸ¨', name: 'Posada del Poeta' },
            { id: 20, type: 'normal', icon: 'ðŸ’Ž', name: 'Piedra Preciosa' },
            { id: 21, type: 'normal', icon: 'ðŸŽ¼', name: 'ComposiciÃ³n Musical' },
            { id: 22, type: 'normal', icon: 'ðŸ•Šï¸', name: 'Paloma de Venus' },
            { id: 23, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 24, type: 'normal', icon: 'ðŸŒ™', name: 'Luna de Plata' },
            { id: 25, type: 'normal', icon: 'âš”ï¸', name: 'Duelo Literario' },
            { id: 26, type: 'normal', icon: 'ðŸŒ¸', name: 'JardÃ­n de Flores' },
            { id: 27, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 28, type: 'normal', icon: 'ðŸ”¥', name: 'Fuego Sagrado' },
            { id: 29, type: 'normal', icon: 'ðŸŽª', name: 'RepresentaciÃ³n' },
            { id: 30, type: 'normal', icon: 'ðŸ’«', name: 'Estrella Polar' },
            { id: 31, type: 'pozo', icon: 'ðŸ•³ï¸', name: 'Pozo del Olvido' },
            { id: 32, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 33, type: 'normal', icon: 'ðŸ¦¢', name: 'Cisne de Apolo' },
            { id: 34, type: 'normal', icon: 'ðŸŒº', name: 'Rosa de PasiÃ³n' },
            { id: 35, type: 'normal', icon: 'âš–ï¸', name: 'Balanza de la Justicia' },
            { id: 36, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 37, type: 'normal', icon: 'ðŸŽ¯', name: 'Diana Cazadora' },
            { id: 38, type: 'normal', icon: 'ðŸŒŠ', name: 'Fuente Castalia' },
            { id: 39, type: 'normal', icon: 'ðŸº', name: 'Ãnfora Sagrada' },
            { id: 40, type: 'normal', icon: 'ðŸ¦…', name: 'Ãguila de JÃºpiter' },
            { id: 41, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 42, type: 'laberinto', icon: 'ðŸŒ€', name: 'Laberinto de Versos' },
            { id: 43, type: 'normal', icon: 'ðŸŽ­', name: 'MÃ¡scara TrÃ¡gica' },
            { id: 44, type: 'normal', icon: 'ðŸŽ¨', name: 'Pincel de Oro' },
            { id: 45, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 46, type: 'normal', icon: 'ðŸŒˆ', name: 'Arco de Iris' },
            { id: 47, type: 'normal', icon: 'âš¡', name: 'Rayo de JÃºpiter' },
            { id: 48, type: 'normal', icon: 'ðŸ‡', name: 'Racimo de Baco' },
            { id: 49, type: 'normal', icon: 'ðŸŒ¿', name: 'Laurel de Apolo' },
            { id: 50, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 51, type: 'normal', icon: 'ðŸŽº', name: 'Trompeta de la Fama' },
            { id: 52, type: 'carcel', icon: 'â›“ï¸', name: 'CÃ¡rcel de la CrÃ­tica' },
            { id: 53, type: 'normal', icon: 'ðŸ‘¸', name: 'Musa CalÃ­ope' },
            { id: 54, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 55, type: 'normal', icon: 'ðŸŒŸ', name: 'ConstelaciÃ³n' },
            { id: 56, type: 'normal', icon: 'ðŸ°', name: 'Castillo de Versos' },
            { id: 57, type: 'normal', icon: 'ðŸ””', name: 'Campana de Oro' },
            { id: 58, type: 'muerte', icon: 'ðŸ’€', name: 'Muerte del Poeta' },
            { id: 59, type: 'oca', icon: 'ðŸª¿', name: 'Oca Ãurea' },
            { id: 60, type: 'normal', icon: 'ðŸŒž', name: 'Sol de Justicia' },
            { id: 61, type: 'normal', icon: 'ðŸŽª', name: 'Gran Teatro' },
            { id: 62, type: 'normal', icon: 'ðŸ‘‘', name: 'Corona PoÃ©tica' },
            { id: 63, type: 'parnaso', icon: 'ðŸ”ï¸', name: 'PARNASO', description: 'Â¡La morada de las Musas te espera!' }
        ];
        
        function OcaDelParnaso() {
            const [gameState, setGameState] = useState({
                players: [...players],
                currentPlayerIndex: 0,
                diceValue: 0,
                canRollDice: true,
                gameStarted: false,
                winner: null,
                showQuiz: false,
                currentQuiz: null,
                selectedAnswer: null,
                quizAnswered: false,
                usedQuestions: [],
                messages: ['Â¡Bienvenidos a la Oca del Parnaso del Siglo de Oro!', 'Los grandes escritores compiten por llegar a la morada de las Musas']
            });
            
            const addMessage = (message) => {
                setGameState(prev => ({
                    ...prev,
                    messages: [...prev.messages.slice(-10), message]
                }));
                // Hacer scroll al final despuÃ©s de agregar mensaje
                setTimeout(() => {
                    const messageLog = document.querySelector('.message-log');
                    if (messageLog) {
                        messageLog.scrollTop = messageLog.scrollHeight;
                    }
                }, 100);
            };
            
            const startQuiz = () => {
                if (!gameState.canRollDice || gameState.winner) return;
                
                const quizResult = getRandomQuiz(gameState.usedQuestions);
                setGameState(prev => ({
                    ...prev,
                    showQuiz: true,
                    currentQuiz: quizResult.question,
                    selectedAnswer: null,
                    quizAnswered: false,
                    usedQuestions: quizResult.resetUsed ? [quizResult.index] : [...prev.usedQuestions, quizResult.index]
                }));
                
                const currentPlayer = gameState.players[gameState.currentPlayerIndex];
                addMessage(`${currentPlayer.name} debe responder una pregunta para lanzar los dados`);
            };
            
            const selectAnswer = (answerIndex) => {
                setGameState(prev => ({
                    ...prev,
                    selectedAnswer: answerIndex
                }));
            };
            
            const submitAnswer = () => {
                const isCorrect = gameState.selectedAnswer === gameState.currentQuiz.correct;
                const currentPlayer = gameState.players[gameState.currentPlayerIndex];
                
                if (isCorrect) {
                    addMessage(`ðŸŽ‰ Â¡Correcto! ${currentPlayer.name} puede lanzar los dados`);
                    setGameState(prev => ({
                        ...prev,
                        quizAnswered: true
                    }));
                    setTimeout(() => rollDice(), 1500);
                } else {
                    addMessage(`âŒ Incorrecto. ${currentPlayer.name} pierde el turno`);
                    addMessage(`ðŸ’¡ ${gameState.currentQuiz.explanation}`);
                    setTimeout(() => {
                        setGameState(prev => ({
                            ...prev,
                            showQuiz: false,
                            currentQuiz: null,
                            selectedAnswer: null,
                            quizAnswered: false
                        }));
                        nextPlayerTurn();
                    }, 3000);
                }
            };
            
            const rollDice = () => {
                const newDiceValue = Math.floor(Math.random() * 6) + 1;
                setGameState(prev => ({
                    ...prev,
                    diceValue: newDiceValue,
                    canRollDice: false,
                    showQuiz: false,
                    currentQuiz: null,
                    selectedAnswer: null,
                    quizAnswered: false
                }));
                
                const currentPlayer = gameState.players[gameState.currentPlayerIndex];
                addMessage(`${currentPlayer.name} lanza los dados y obtiene: ${newDiceValue}`);
                
                setTimeout(() => movePlayer(newDiceValue), 1000);
            };
            
            const movePlayer = (steps) => {
                const currentPlayer = gameState.players[gameState.currentPlayerIndex];
                const newPosition = Math.min(currentPlayer.position + steps, 63);
                
                setGameState(prev => {
                    const updatedPlayers = [...prev.players];
                    updatedPlayers[gameState.currentPlayerIndex] = {
                        ...currentPlayer,
                        position: newPosition
                    };
                    
                    return {
                        ...prev,
                        players: updatedPlayers
                    };
                });
                
                setTimeout(() => {
                    handleSpecialCells(newPosition, currentPlayer);
                }, 500);
            };
            
            const handleSpecialCells = (position, player) => {
                const cell = boardCells[position];
                let nextTurn = true;
                let newPosition = position;
                
                switch(cell.type) {
                    case 'oca':
                        addMessage(`ðŸª¿ ${player.name} llega a una Oca Ãurea: "De oca a oca y tiro porque me toca"`);
                        const nextOca = boardCells.findIndex((c, i) => i > position && c.type === 'oca');
                        if (nextOca !== -1 && nextOca < 63) {
                            newPosition = nextOca;
                            updatePlayerPosition(player.id, newPosition);
                            addMessage(`${player.name} vuela hasta la casilla ${nextOca + 1}`);
                        }
                        nextTurn = false; // Repite turno
                        break;
                        
                    case 'puente':
                        addMessage(`ðŸŒ‰ ${player.name} cruza el puente: "De puente a puente y tiro porque me lleva la corriente"`);
                        const nextBridge = boardCells.findIndex((c, i) => i > position && c.type === 'puente');
                        if (nextBridge !== -1) {
                            newPosition = nextBridge;
                            updatePlayerPosition(player.id, newPosition);
                            addMessage(`${player.name} cruza hasta la casilla ${nextBridge + 1}`);
                        }
                        nextTurn = false; // Repite turno
                        break;
                        
                    case 'posada':
                        addMessage(`ðŸ¨ ${player.name} se detiene en la Posada del Poeta y debe descansar un turno`);
                        setGameState(prev => ({
                            ...prev,
                            players: prev.players.map(p => 
                                p.id === player.id ? {...p, skipTurns: 1} : p
                            )
                        }));
                        break;
                        
                    case 'carcel':
                        addMessage(`â›“ï¸ ${player.name} es encarcelado por la CrÃ­tica y debe esperar a ser liberado`);
                        setGameState(prev => ({
                            ...prev,
                            players: prev.players.map(p => 
                                p.id === player.id ? {...p, inPrison: true} : p
                            )
                        }));
                        break;
                        
                    case 'muerte':
                        addMessage(`ðŸ’€ ${player.name} sufre la muerte del poeta y debe volver al inicio`);
                        updatePlayerPosition(player.id, 0);
                        newPosition = 0;
                        break;
                        
                    case 'laberinto':
                        addMessage(`ðŸŒ€ ${player.name} se pierde en el Laberinto de Versos y retrocede 12 casillas`);
                        newPosition = Math.max(0, position - 12);
                        updatePlayerPosition(player.id, newPosition);
                        break;
                        
                    case 'parnaso':
                        setGameState(prev => ({
                            ...prev,
                            winner: player,
                            canRollDice: false
                        }));
                        addMessage(`ðŸ”ï¸ Â¡${player.name} ha alcanzado el PARNASO y es coronado como el poeta supremo!`);
                        return;
                        
                    case 'pozo':
                        addMessage(`ðŸ•³ï¸ ${player.name} cae en el Pozo del Olvido y debe esperar a ser rescatado`);
                        setGameState(prev => ({
                            ...prev,
                            players: prev.players.map(p => 
                                p.id === player.id ? {...p, inWell: true} : p
                            )
                        }));
                        break;
                        
                    default:
                        addMessage(`${player.name} se detiene en: ${cell.name}`);
                        break;
                }
                
                if (nextTurn) {
                    setTimeout(() => nextPlayerTurn(), 1500);
                } else {
                    setTimeout(() => {
                        setGameState(prev => ({ ...prev, canRollDice: true }));
                    }, 1500);
                }
            };
            
            const updatePlayerPosition = (playerId, newPosition) => {
                setGameState(prev => ({
                    ...prev,
                    players: prev.players.map(p => 
                        p.id === playerId ? {...p, position: newPosition} : p
                    )
                }));
            };
            
            const nextPlayerTurn = () => {
                setGameState(prev => {
                    let nextIndex = (prev.currentPlayerIndex + 1) % prev.players.length;
                    
                    // Saltar jugadores que tienen penalizaciones
                    let attempts = 0;
                    while (attempts < 4) {
                        const nextPlayer = prev.players[nextIndex];
                        
                        if (nextPlayer.skipTurns > 0) {
                            // Reducir turnos a saltar
                            const updatedPlayers = [...prev.players];
                            updatedPlayers[nextIndex] = {
                                ...nextPlayer,
                                skipTurns: nextPlayer.skipTurns - 1
                            };
                            
                            return {
                                ...prev,
                                players: updatedPlayers,
                                currentPlayerIndex: (nextIndex + 1) % prev.players.length,
                                canRollDice: true
                            };
                        }
                        
                        if (nextPlayer.inPrison) {
                            // Intentar salir de prisiÃ³n (50% probabilidad)
                            if (Math.random() > 0.5) {
                                addMessage(`${nextPlayer.name} es liberado de la CÃ¡rcel de la CrÃ­tica`);
                                const updatedPlayers = [...prev.players];
                                updatedPlayers[nextIndex] = {
                                    ...nextPlayer,
                                    inPrison: false
                                };
                                
                                return {
                                    ...prev,
                                    players: updatedPlayers,
                                    currentPlayerIndex: nextIndex,
                                    canRollDice: true
                                };
                            } else {
                                addMessage(`${nextPlayer.name} permanece en la CÃ¡rcel de la CrÃ­tica`);
                                nextIndex = (nextIndex + 1) % prev.players.length;
                                attempts++;
                                continue;
                            }
                        }
                        
                        if (nextPlayer.inWell) {
                            // Puede ser rescatado si otro jugador cae en el pozo
                            addMessage(`${nextPlayer.name} sigue en el Pozo del Olvido`);
                            nextIndex = (nextIndex + 1) % prev.players.length;
                            attempts++;
                            continue;
                        }
                        
                        break;
                    }
                    
                    return {
                        ...prev,
                        currentPlayerIndex: nextIndex,
                        canRollDice: true
                    };
                });
            };
            
            const startGame = () => {
                setGameState(prev => ({
                    ...prev,
                    gameStarted: true
                }));
                addMessage('Â¡La carrera hacia el Parnaso ha comenzado!');
            };
            
            const restartGame = () => {
                setGameState({
                    players: players.map(p => ({ ...p, position: 0, skipTurns: 0, inPrison: false, inWell: false })),
                    currentPlayerIndex: 0,
                    diceValue: 0,
                    canRollDice: true,
                    gameStarted: false,
                    winner: null,
                    showQuiz: false,
                    currentQuiz: null,
                    selectedAnswer: null,
                    quizAnswered: false,
                    usedQuestions: [],
                    messages: ['Â¡Bienvenidos a la Oca del Parnaso del Siglo de Oro!']
                });
            };
            
            const renderBoard = () => {
                return boardCells.map((cell, index) => {
                    const playersInCell = gameState.players.filter(p => p.position === index);
                    
                    return React.createElement('div', {
                        key: index,
                        className: `cell cell-${cell.type}`,
                        title: cell.description || cell.name
                    },
                        React.createElement('div', { className: 'cell-icon' }, cell.icon),
                        React.createElement('div', { className: 'cell-number' }, index + 1),
                        cell.type === 'parnaso' && React.createElement('div', { 
                            style: { fontSize: '0.4rem', fontWeight: 'bold', color: 'gold' }
                        }, 'PARNASO'),
                        playersInCell.length > 0 && React.createElement('div', { className: 'players-in-cell' },
                            playersInCell.map(player =>
                                React.createElement('div', {
                                    key: player.id,
                                    className: 'player-token',
                                    style: { backgroundColor: player.color },
                                    title: player.name
                                })
                            )
                        )
                    );
                });
            };
            
            if (!gameState.gameStarted) {
                return React.createElement('div', { className: 'container' },
                    React.createElement('div', { className: 'card' },
                        React.createElement('div', { style: { padding: '40px', textAlign: 'center' } },
                            React.createElement('h1', { 
                                style: { 
                                    fontSize: '3rem', 
                                    marginBottom: '20px', 
                                    background: 'linear-gradient(135deg, #8B4513 0%, #D2691E 100%)',
                                    WebkitBackgroundClip: 'text',
                                    WebkitTextFillColor: 'transparent'
                                }
                            }, 'ðŸª¿ La Oca del Parnaso'),
                            React.createElement('h2', { 
                                style: { fontSize: '1.5rem', marginBottom: '30px', color: '#8B4513' }
                            }, 'Siglo de Oro EspaÃ±ol'),
                            React.createElement('p', { 
                                style: { fontSize: '1.1rem', marginBottom: '30px', lineHeight: '1.6' }
                            }, 
                                'Los grandes escritores del Siglo de Oro espaÃ±ol compiten por llegar al Parnaso, ',
                                'la mÃ­tica morada de las Musas. Supera los obstÃ¡culos del camino poÃ©tico y ',
                                'alcanza la gloria literaria eterna.'
                            ),
                            React.createElement('div', { 
                                style: { 
                                    display: 'grid', 
                                    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',
                                    gap: '15px',
                                    marginBottom: '30px'
                                }
                            },
                                gameState.players.map(player =>
                                    React.createElement('div', {
                                        key: player.id,
                                        className: 'player-info',
                                        style: { borderLeftColor: player.color }
                                    },
                                        React.createElement('div', {
                                            style: {
                                                width: '20px',
                                                height: '20px',
                                                borderRadius: '50%',
                                                backgroundColor: player.color,
                                                border: '2px solid white',
                                                boxShadow: '0 2px 5px rgba(0,0,0,0.3)'
                                            }
                                        }),
                                        React.createElement('strong', null, player.name)
                                    )
                                )
                            ),
                            React.createElement('button', {
                                onClick: startGame,
                                className: 'btn',
                                style: { fontSize: '1.2rem', padding: '15px 30px' }
                            }, 'ðŸš€ Â¡Comenzar la Carrera al Parnaso!')
                        )
                    )
                );
            }
            
            return React.createElement('div', { className: 'container' },
                gameState.showQuiz && React.createElement('div', { className: 'winner-celebration' },
                    React.createElement('div', { 
                        className: 'winner-content',
                        style: { maxWidth: '600px', background: 'linear-gradient(135deg, #FFF8DC 0%, #F5E6D3 100%)' }
                    },
                        React.createElement('h2', { 
                            style: { marginBottom: '20px', color: '#8B4513', fontSize: '1.5rem' }
                        }, 'ðŸ“š Quiz del Siglo de Oro'),
                        React.createElement('div', {
                            style: { 
                                marginBottom: '20px', 
                                padding: '20px',
                                background: 'rgba(255,255,255,0.8)',
                                borderRadius: '10px',
                                textAlign: 'left'
                            }
                        },
                            React.createElement('p', { 
                                style: { fontSize: '1.1rem', marginBottom: '20px', fontWeight: 'bold' }
                            }, gameState.currentQuiz?.question),
                            gameState.currentQuiz?.options.map((option, index) =>
                                React.createElement('div', {
                                    key: index,
                                    style: {
                                        margin: '10px 0',
                                        padding: '12px',
                                        background: gameState.selectedAnswer === index ? 
                                            'linear-gradient(135deg, #FFD700 0%, #FFA500 100%)' : 
                                            'linear-gradient(135deg, #F8F8FF 0%, #F0F8FF 100%)',
                                        border: '2px solid ' + (gameState.selectedAnswer === index ? '#8B4513' : '#DDD'),
                                        borderRadius: '8px',
                                        cursor: gameState.quizAnswered ? 'not-allowed' : 'pointer',
                                        transition: 'all 0.3s ease',
                                        opacity: gameState.quizAnswered ? 0.7 : 1
                                    },
                                    onClick: () => !gameState.quizAnswered && selectAnswer(index)
                                },
                                    React.createElement('strong', { style: { marginRight: '10px' } }, 
                                        String.fromCharCode(65 + index) + ')'),
                                    option
                                )
                            )
                        ),
                        !gameState.quizAnswered && React.createElement('button', {
                            onClick: submitAnswer,
                            disabled: gameState.selectedAnswer === null,
                            className: 'btn',
                            style: { 
                                fontSize: '1.1rem', 
                                padding: '12px 24px',
                                opacity: gameState.selectedAnswer === null ? 0.6 : 1
                            }
                        }, 'âœ… Confirmar Respuesta'),
                        gameState.quizAnswered && React.createElement('div', {
                            style: { 
                                textAlign: 'center',
                                fontSize: '1.1rem',
                                color: '#2E8B57',
                                fontWeight: 'bold'
                            }
                        }, 'ðŸŽ¯ Lanzando dados...')
                    )
                ),
                
                gameState.winner && React.createElement('div', { className: 'winner-celebration' },
                    React.createElement('div', { className: 'winner-content' },
                        React.createElement('h1', { style: { fontSize: '3rem', marginBottom: '20px' } }, 'ðŸ†'),
                        React.createElement('h2', { style: { marginBottom: '20px' } }, 
                            `Â¡${gameState.winner.name} ha alcanzado el PARNASO!`
                        ),
                        React.createElement('p', { style: { fontSize: '1.2rem', marginBottom: '30px' } },
                            'Las Musas te coronan como el poeta supremo del Siglo de Oro'
                        ),
                        React.createElement('button', {
                            onClick: restartGame,
                            className: 'btn',
                            style: { fontSize: '1.1rem', padding: '12px 24px' }
                        }, 'ðŸ”„ Nueva Partida')
                    )
                ),
                
                React.createElement('div', { 
                    style: { 
                        display: 'grid', 
                        gridTemplateColumns: window.innerWidth >= 1400 ? 
                            'minmax(0, 1fr) minmax(280px, 320px) minmax(300px, 350px)' : 
                            window.innerWidth >= 768 ? 'minmax(0, 1fr) minmax(320px, 400px)' :
                            '1fr', 
                        gap: window.innerWidth >= 768 ? '20px' : '10px', 
                        alignItems: 'start', 
                        height: '100%' 
                    } 
                },
                    React.createElement('div', { className: 'card' },
                        React.createElement('div', { style: { padding: '10px' } },
                            React.createElement('h2', { 
                                style: { 
                                    textAlign: 'center', 
                                    marginBottom: '20px',
                                    fontSize: '1.5rem',
                                    color: '#8B4513'
                                }
                            }, 'ðŸ”ï¸ Camino al Parnaso'),
                            React.createElement('div', { className: 'board' },
                                ...renderBoard()
                            )
                        ),
                        
                        // CrÃ³nica del juego en mÃ³viles - despuÃ©s del tablero
                        window.innerWidth < 768 ? React.createElement('div', { className: 'game-panel', style: { marginTop: '20px' } },
                            React.createElement('h3', { 
                                style: { marginBottom: '15px', color: '#8B4513' }
                            }, 'ðŸ“° CrÃ³nica del Juego'),
                            React.createElement('div', { className: 'message-log', style: { height: '200px' } },
                                gameState.messages.map((message, index) =>
                                    React.createElement('div', { key: index, className: 'message' }, message)
                                )
                            )
                        ) : null
                    ),
                    
                    React.createElement('div', { style: { display: 'flex', flexDirection: 'column', gap: '20px', height: '100%' } },
                        React.createElement('div', { className: 'game-panel' },
                            React.createElement('h3', { 
                                style: { marginBottom: '15px', textAlign: 'center', color: '#8B4513' }
                            }, 'ðŸŽ¯ Panel de Juego'),
                            
                            React.createElement('div', { style: { marginBottom: '20px' } },
                                React.createElement('h4', { style: { marginBottom: '10px' } }, 'Turno actual:'),
                                React.createElement('div', {
                                    className: `player-info current-player`,
                                    style: { borderLeftColor: gameState.players[gameState.currentPlayerIndex].color }
                                },
                                    React.createElement('div', {
                                        style: {
                                            width: '20px',
                                            height: '20px',
                                            borderRadius: '50%',
                                            backgroundColor: gameState.players[gameState.currentPlayerIndex].color,
                                            border: '2px solid white'
                                        }
                                    }),
                                    React.createElement('strong', null, gameState.players[gameState.currentPlayerIndex].name),
                                    React.createElement('span', { style: { marginLeft: 'auto', fontSize: '0.9rem' } },
                                        `Casilla ${gameState.players[gameState.currentPlayerIndex].position + 1}`
                                    )
                                )
                            ),
                            
                            React.createElement('div', { style: { textAlign: 'center', marginBottom: '20px' } },
                                React.createElement('div', { className: 'dice' }, gameState.diceValue || 'ðŸŽ²'),
                                React.createElement('button', {
                                    onClick: startQuiz,
                                    disabled: !gameState.canRollDice || gameState.winner || gameState.showQuiz,
                                    className: 'btn',
                                    style: { marginTop: '10px' }
                                }, gameState.showQuiz ? 'Respondiendo...' : 'ðŸ“š Responder Quiz')
                            )
                        ),
                        
                        React.createElement('div', { className: 'game-panel' },
                            React.createElement('h3', { 
                                style: { marginBottom: '15px', color: '#8B4513' }
                            }, 'ðŸ“œ Posiciones'),
                            gameState.players
                                .sort((a, b) => b.position - a.position)
                                .map((player, index) =>
                                    React.createElement('div', {
                                        key: player.id,
                                        className: 'player-info',
                                        style: { borderLeftColor: player.color }
                                    },
                                        React.createElement('div', {
                                            style: {
                                                width: '16px',
                                                height: '16px',
                                                borderRadius: '50%',
                                                backgroundColor: player.color,
                                                border: '2px solid white'
                                            }
                                        }),
                                        React.createElement('span', { style: { fontSize: '0.9rem' } }, player.name),
                                        React.createElement('span', { 
                                            style: { marginLeft: 'auto', fontWeight: 'bold' }
                                        }, player.position + 1),
                                        player.inPrison && React.createElement('span', { style: { color: 'red' } }, ' ðŸ”’'),
                                        player.inWell && React.createElement('span', { style: { color: 'blue' } }, ' ðŸ•³ï¸'),
                                        player.skipTurns > 0 && React.createElement('span', { style: { color: 'orange' } }, ' ðŸ’¤')
                                    )
                                )
                        ),
                        
                        // CrÃ³nica del juego en pantallas pequeÃ±as y medianas (no mÃ³viles muy pequeÃ±os)
                        window.innerWidth < 1400 && window.innerWidth >= 768 ? React.createElement('div', { className: 'game-panel' },
                            React.createElement('h3', { 
                                style: { marginBottom: '15px', color: '#8B4513' }
                            }, 'ðŸ“° CrÃ³nica del Juego'),
                            React.createElement('div', { className: 'message-log' },
                                gameState.messages.map((message, index) =>
                                    React.createElement('div', { key: index, className: 'message' }, message)
                                )
                            )
                        ) : null
                    ),
                    
                    // Tercera columna - Solo en pantallas grandes (CrÃ³nica del juego)
                    window.innerWidth >= 1400 ? React.createElement('div', { className: 'game-panel' },
                        React.createElement('h3', { 
                            style: { marginBottom: '15px', color: '#8B4513' }
                        }, 'ðŸ“° CrÃ³nica del Juego'),
                        React.createElement('div', { 
                            className: 'message-log',
                            style: { height: 'calc(100vh - 200px)', maxHeight: '600px', minHeight: '400px' }
                        },
                            gameState.messages.map((message, index) =>
                                React.createElement('div', { key: index, className: 'message' }, message)
                            )
                        )
                    ) : null
                )
            );
        }
        
        const root = createRoot(document.getElementById('root'));
        root.render(React.createElement(OcaDelParnaso));
    </script>
</body>
</html>